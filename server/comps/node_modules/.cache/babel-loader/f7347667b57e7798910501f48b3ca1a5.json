{"ast":null,"code":"import React from \"react\";\nimport \"./video_loop.css\";\n\nclass VideoLoop extends React.Component {\n  constructor(props) {\n    super();\n    this.props = props;\n    const rand = Math.floor(Math.random() * this.props.videos.length);\n    this.state = {\n      autoPlayCycleDuration: this.props.duration * 2,\n      videoIndex: 1,\n      video2Class: \"\",\n      video1: this.createVideo(rand - 1 < 0 ? this.props.videos.length - 1 : rand - 1),\n      video2: this.createVideo(rand)\n    };\n  }\n\n  createVideo(index) {\n    return React.createElement(\"video\", {\n      muted: true,\n      preload: \"auto\",\n      loop: true,\n      autoPlay: true\n    }, React.createElement(\"source\", {\n      src: this.props.videos[index].src,\n      type: this.props.videos[index].type\n    }));\n  }\n\n  renderVideo(video) {\n    const videoIndex = this.state.videoIndex >= this.props.videos.length - 1 ? 0 : this.state.videoIndex + 1;\n    this.setState({\n      [video]: null,\n      videoIndex\n    });\n    this.setState({\n      [video]: this.createVideo(videoIndex)\n    });\n  }\n\n  async autoPlay(waiter) {\n    await waiter(this.state.autoPlayCycleDuration / 4);\n    this.setState({\n      video2Class: \"anim-video-fade-in\"\n    });\n    await waiter(this.state.autoPlayCycleDuration / 4);\n    this.renderVideo(\"video1\");\n    await waiter(this.state.autoPlayCycleDuration / 4);\n    this.setState({\n      video2Class: \"anim-video-fade-out\"\n    });\n    await waiter(this.state.autoPlayCycleDuration / 4);\n    this.renderVideo(\"video2\");\n  }\n\n  componentDidMount() {\n    const waiter = num => new Promise((resolve, reject) => setTimeout(() => resolve(), num));\n\n    this.autoPlay(waiter);\n    this.intervalId = setInterval(() => this.autoPlay(waiter), this.state.autoPlayCycleDuration);\n  }\n\n  render() {\n    return React.createElement(\"div\", {\n      className: \"video_loop\"\n    }, React.createElement(\"div\", {\n      className: `video1`\n    }, this.state.video1), React.createElement(\"div\", {\n      className: `video2 ${this.state.video2Class}`\n    }, this.state.video2), React.createElement(\"div\", {\n      className: \"content\"\n    }, this.props.children ? this.props.children : null));\n  }\n\n}\n\nexport default VideoLoop;","map":{"version":3,"sources":["/titanesports/server/comps/node_modules/arclight-react/dist/video_loop/video_loop.js"],"names":["React","VideoLoop","Component","constructor","props","rand","Math","floor","random","videos","length","state","autoPlayCycleDuration","duration","videoIndex","video2Class","video1","createVideo","video2","index","createElement","muted","preload","loop","autoPlay","src","type","renderVideo","video","setState","waiter","componentDidMount","num","Promise","resolve","reject","setTimeout","intervalId","setInterval","render","className","children"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport \"./video_loop.css\";\n\nclass VideoLoop extends React.Component {\n  constructor(props) {\n    super();\n    this.props = props;\n    const rand = Math.floor(Math.random() * this.props.videos.length);\n    this.state = {\n      autoPlayCycleDuration: this.props.duration * 2,\n      videoIndex: 1,\n      video2Class: \"\",\n      video1: this.createVideo(rand - 1 < 0 ? this.props.videos.length - 1 : rand - 1),\n      video2: this.createVideo(rand)\n    };\n  }\n\n  createVideo(index) {\n    return React.createElement(\"video\", {\n      muted: true,\n      preload: \"auto\",\n      loop: true,\n      autoPlay: true\n    }, React.createElement(\"source\", {\n      src: this.props.videos[index].src,\n      type: this.props.videos[index].type\n    }));\n  }\n\n  renderVideo(video) {\n    const videoIndex = this.state.videoIndex >= this.props.videos.length - 1 ? 0 : this.state.videoIndex + 1;\n    this.setState({\n      [video]: null,\n      videoIndex\n    });\n    this.setState({\n      [video]: this.createVideo(videoIndex)\n    });\n  }\n\n  async autoPlay(waiter) {\n    await waiter(this.state.autoPlayCycleDuration / 4);\n    this.setState({\n      video2Class: \"anim-video-fade-in\"\n    });\n    await waiter(this.state.autoPlayCycleDuration / 4);\n    this.renderVideo(\"video1\");\n    await waiter(this.state.autoPlayCycleDuration / 4);\n    this.setState({\n      video2Class: \"anim-video-fade-out\"\n    });\n    await waiter(this.state.autoPlayCycleDuration / 4);\n    this.renderVideo(\"video2\");\n  }\n\n  componentDidMount() {\n    const waiter = num => new Promise((resolve, reject) => setTimeout(() => resolve(), num));\n\n    this.autoPlay(waiter);\n    this.intervalId = setInterval(() => this.autoPlay(waiter), this.state.autoPlayCycleDuration);\n  }\n\n  render() {\n    return React.createElement(\"div\", {\n      className: \"video_loop\"\n    }, React.createElement(\"div\", {\n      className: `video1`\n    }, this.state.video1), React.createElement(\"div\", {\n      className: `video2 ${this.state.video2Class}`\n    }, this.state.video2), React.createElement(\"div\", {\n      className: \"content\"\n    }, this.props.children ? this.props.children : null));\n  }\n\n}\n\nexport default VideoLoop;"]},"metadata":{},"sourceType":"module"}